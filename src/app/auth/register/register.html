<div class="auth-container">
  <div class="auth-card">
    <!-- Logo no topo -->
    <div class="auth-logo">
      <img src="assets/logo.jpg" alt="Logo Coworking" />
    </div>

    <h2>Criar Conta</h2>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <!-- Nome -->
      <div class="input-group">
        <i class="fas fa-user"></i>
        <input type="text" formControlName="name" placeholder="Nome completo" />
      </div>
      <div class="error" *ngIf="registerForm.get('name')?.touched && registerForm.get('name')?.invalid">
        Nome é obrigatório.
      </div>

      <!-- Email -->
      <div class="input-group">
        <i class="fas fa-envelope"></i>
        <input type="email" formControlName="email" placeholder="Email" />
      </div>
      <div class="error" *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid">
        <span *ngIf="registerForm.get('email')?.errors?.['required']">Email é obrigatório.</span>
        <span *ngIf="registerForm.get('email')?.errors?.['email']">Email inválido.</span>
      </div>

      <!-- CPF -->
      <div class="input-group">
        <i class="fas fa-id-card"></i>
        <input type="text" formControlName="cpf" maxlength="14" placeholder="CPF" />
      </div>
      <div class="error" *ngIf="registerForm.get('cpf')?.touched && registerForm.get('cpf')?.invalid">
        CPF inválido. Formato correto: xxx.xxx.xxx-xx
      </div>

      <!-- Senha -->
      <div class="input-group">
        <i class="fas fa-lock"></i>
        <input [type]="showPassword ? 'text' : 'password'" formControlName="password" placeholder="Senha" />
        <span class="toggle-pass" (click)="showPassword = !showPassword">
          <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
        </span>
      </div>
      <div class="error" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
        <span *ngIf="registerForm.get('password')?.errors?.['required']">Senha é obrigatória.</span>
        <span *ngIf="registerForm.get('password')?.errors?.['minlength']">Mínimo 5 caracteres.</span>
        <span *ngIf="registerForm.get('password')?.errors?.['pattern']">1 maiúscula, 1 minúscula e 1 número.</span>
      </div>

      <!-- Confirmar Senha -->
      <div class="input-group">
        <i class="fas fa-lock"></i>
        <input [type]="showConfirm ? 'text' : 'password'" formControlName="confirmPassword" placeholder="Confirmar Senha" />
        <span class="toggle-pass" (click)="showConfirm = !showConfirm">
          <i [class]="showConfirm ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
        </span>
      </div>
      <div class="error" *ngIf="registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched">
        Senhas não coincidem.
      </div>

      <button type="submit" [disabled]="registerForm.invalid">Cadastrar</button>

      <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>
    </form>

    <div class="auth-footer">
      <a routerLink="/login">Já tem uma conta? Entrar</a>
    </div>
  </div>
</div>
