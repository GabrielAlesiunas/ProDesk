<head>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    integrity="sha512-papLNJpq9O32h+lF0+0eKnR+lj8lBRpOjL2Vq1b4t5O9VzX91r6Y2M6uZQe1F2BvE9+u4pG2uLg6L3lZ2epW8g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<div class="auth-container">
  <!-- Painel de imagem -->
  <div class="auth-image">
    <img src="assets/coworking-register.jpg" alt="Coworking Illustration" />
  </div>

  <!-- Painel de formulário -->
  <div class="auth-container">
    <div class="auth-card">
      <div class="auth-image">
        <img src="assets/coworking.svg" alt="Ilustração Coworking" />
      </div>

      <h2>Criar Conta</h2>

      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <!-- Nome -->
        <div class="input-group">
          <i class="fas fa-user"></i>
          <input type="text" formControlName="name" placeholder="Nome completo" />
        </div>
        <div class="error" *ngIf="registerForm.get('name')?.touched && registerForm.get('name')?.invalid">
          Nome é obrigatório.
        </div>

        <!-- Email -->
        <div class="input-group">
          <i class="fas fa-envelope"></i>
          <input type="email" formControlName="email" placeholder="Email" />
        </div>
        <div class="error" *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid">
          <span *ngIf="registerForm.get('email')?.errors?.['required']">Email é obrigatório.</span>
          <span *ngIf="registerForm.get('email')?.errors?.['email']">Email inválido.</span>
        </div>

        <!-- CPF -->
        <div class="input-group">
          <i class="fas fa-id-card"></i>
          <input type="text" formControlName="cpf" maxlength="14" placeholder="CPF" />
        </div>
        <div class="error" *ngIf="registerForm.get('cpf')?.touched && registerForm.get('cpf')?.invalid">
          CPF inválido. Formato correto: xxx.xxx.xxx-xx
        </div>

        <!-- Senha -->
        <div class="input-group">
          <i class="fas fa-lock"></i>
          <input [type]="showPassword ? 'text' : 'password'" formControlName="password" placeholder="Senha" />
          <i class="fa-solid" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"
            (click)="showPassword = !showPassword"></i>
        </div>
        <div class="error" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
          <span *ngIf="registerForm.get('password')?.errors?.['required']">Senha é obrigatória.</span>
          <span *ngIf="registerForm.get('password')?.errors?.['minlength']">Senha deve ter no mínimo 5
            caracteres.</span>
          <span *ngIf="registerForm.get('password')?.errors?.['pattern']">Senha deve ter 1 letra maiúscula, 1 minúscula
            e 1 número.</span>
        </div>

        <!-- Confirmar Senha -->
        <div class="input-group">
          <i class="fas fa-lock"></i>
          <input [type]="showConfirm ? 'text' : 'password'" formControlName="confirmPassword"
            placeholder="Confirmar Senha" />
          <i class="fa-solid" [ngClass]="showConfirm ? 'fa-eye-slash' : 'fa-eye'"
            (click)="showConfirm = !showConfirm"></i>
        </div>
        <div class="error"
          *ngIf="registerForm.hasError('passwordMismatch') && registerForm.get('confirmPassword')?.touched">
          Senhas não coincidem.
        </div>

        <button type="submit" [disabled]="registerForm.invalid">Cadastrar</button>

        <!-- Mensagem de erro geral -->
        <div class="error" *ngIf="errorMessage">{{ errorMessage }}</div>
      </form>


      <div class="auth-footer">
        <a routerLink="/login">Já tem uma conta? Entrar</a>
      </div>
    </div>
  </div>
</div>